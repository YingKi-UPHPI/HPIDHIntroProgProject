---
title: "Hearing Well-being Analysis - Cleaning file"
format: html
editor: visual
---

## Cleaning

```{python}
import pandas as pd

raw = pd.read_csv("Hearing well-being Survey Report.csv")
print(raw.info()) #check col. names and data types
print(f"Dataset Shape: {raw.shape}") 
#387 rows, 14 columns
#2 cells in Hearing_Test_Barrier has missing value

pd.set_option("display.max_rows", None) #show all rows
pd.set_option("display.max_columns", None) #show all columns
pd.set_option("display.max_colwidth", None) #make columns wide enough
#Doing all these to show everything below

print(raw.describe(include = 'all').transpose())
#transposed to see all the columns as row
```

```{python}
print(raw['Hearing_FOMO'].unique()) #Check unique answers. Seems ordinal
print(raw['Left_Out_Due_To_Hearing'].unique())
print(raw['Age_group'].unique()) #definitely ordinal
```

```{python}
print(raw.isnull().sum()) #confirming missing value
```

```{python}
hearingcleaned = raw.copy()
hearingcleaned = hearingcleaned.replace('â€™', "'", regex = True)
#replace specific strange symbol with correct '

hearingcleaned['Age_group'] = hearingcleaned['Age_group'].astype('category')
#change age group to cat/factor variable
```

```{python}
print(hearingcleaned['Missed_Important_Sounds'].value_counts())

imptsound_mappingdict = {
    "No, I usually hear things well": "No",
    "I'm not sure, but I have felt disconnected": "Maybe",
    "Yes, during important work or school meetings": "Yes",
    "Yes, in public spaces (trains, shops, announcements)": "Yes",
    "Yes, in family conversations": "Yes",
    "I can't hear claerly when tell important information in serious situation ": "Yes",
    "When with friends anol": "Yes",
    "When I don't pay attention while others speak ": "Yes"    
} #create a dict for mapping

hearingcleaned['Missed_Important_Sounds_clean'] = hearingcleaned['Missed_Important_Sounds'].map(imptsound_mappingdict)

hearingcleaned['Missed_Important_Sounds_clean'].value_counts()
```

```{python}
print(hearingcleaned['Interest_in_Hearing_App'].value_counts())

hearingcleaned['Interest_in_Hearing_App_clean'] = (
    hearingcleaned['Interest_in_Hearing_App']
    .str.split()
    .str[0]
    .str.strip(',')
)

print(hearingcleaned['Interest_in_Hearing_App_clean'].value_counts())
```

```{python}
print(hearingcleaned['Paid_App_Test_Interest'].value_counts())

hearingcleaned['Paid_App_Test_Interest_clean'] = (
    hearingcleaned['Paid_App_Test_Interest']
    .str.split()
    .str[0]
    .str.strip(',')
)

print(hearingcleaned['Paid_App_Test_Interest_clean'].value_counts())
```

```{python}
print(hearingcleaned['Last_Hearing_Test_Method'].value_counts())

lasttest_mappingdict = {
    "I've never taken a hearing test": "Never",
    "At a hospital or clinic": "Clinically-tested",
    "Mobile app": "Self-tested",
    "Online test": "Self-tested",
    "Self - application": "Self-tested",
    "Self - application, Loved one, AI Support": "Self-tested"
}

hearingcleaned['Last_Hearing_Test_Method_clean'] = hearingcleaned['Last_Hearing_Test_Method'].map(lasttest_mappingdict)
hearingcleaned['Last_Hearing_Test_Method_clean'].value_counts()
```

```{python}
print(hearingcleaned['Left_Out_Due_To_Hearing'].value_counts())
print(hearingcleaned['Hearing_FOMO'].value_counts())
print(hearingcleaned['Daily_Headphone_Use'].value_counts())
```

```{python}
hearingcleaned.to_csv("hearing_cleaned.csv", index=False)
#index false so pandas don't create an additional column for the hidden index
```
